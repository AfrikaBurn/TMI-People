{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://tmi.mobi/root.schema.json",

  "definitions": {

    "id": {
      "title": "Identifier",
      "type": "number",
      "minimum": -1
    },

    "description": {
      "title": "Description",
      "type": "string",
      "pattern": "^(\\s?\\S+\\s?){0,100}$",
      "errorMessage": "should only be up to 100 words"
    },

    "privacy": {
      "type": "string",
      "enum": ["public", "partial", "private"]
    },

    "exposure": {
      "type": "object",
      "description": "Visibility and Accessibility attributes",
      "properties": {
        "visibility": {"$ref": "#/definitions/privacy"},
        "accessibilty": {"$ref": "#/definitions/privacy"}
      }
    },

    "participant": {
      "type": "object",
      "description": "User or Group reference",
      "properties": {
        "id": {"$ref": "#/definitions/id"},
        "type":{
          "type": "string",
          "enum": ["group", "user"],
          "errorMessage": "Inappropriate reference type. Must be 'group' or 'user'."
        }
      }
    }
  }
}